# ============================================
# Open Deep Research 环境变量配置示例
# ============================================
# 复制此文件为 .env 并填入你的实际API密钥
# cp env.example .env

# ============================================
# LLM API Keys (至少配置一个)
# ============================================

# OpenAI API Key (推荐)
# 获取地址: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API Key
# 获取地址: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Google API Key (如果使用Google模型)
GOOGLE_API_KEY=your-google-api-key-here

# ============================================
# 搜索API配置 (至少配置一个)
# ============================================

# ============================================
# 搜索后端配置 (Perplexica 或 Tavily)
# ============================================

# 使用 Perplexica 作为搜索后端 (推荐，无需 API Key)
# 设置为 "true" 使用 Perplexica，设置为 "false" 使用 Tavily
USE_PERPLEXICA=true

# Perplexica API 地址 (AKS 内部服务地址)
# 如果部署在同一个 AKS 集群，使用服务名访问
PERPLEXICA_API_URL=http://perplexica-service/api/tavily

# ============================================
# Perplexica 高级参数配置 (可选)
# ============================================
# 所有参数都有合理的默认值，可以按需调整

# === 时间范围控制 ===
# 控制搜索结果的时间范围，对新闻/趋势研究特别重要
# PERPLEXICA_TIME_RANGE=month    # 可选值: day, week, month, year
# PERPLEXICA_DAYS=30             # 或指定最近N天

# === 域名过滤 ===
# 提升搜索质量：指定信任域名或排除低质量网站

# 只搜索指定域名（用于学术研究等特定场景）
# PERPLEXICA_INCLUDE_DOMAINS=arxiv.org,scholar.google.com,ieee.org

# 排除特定域名（默认排除图片网站）
PERPLEXICA_EXCLUDE_DOMAINS=pinterest.com,instagram.com,tiktok.com

# === 搜索控制 ===
# 语言设置
PERPLEXICA_LANGUAGE=en          # 默认英文，可选: zh, ja, ko 等

# 搜索引擎选择（默认使用全部）
# PERPLEXICA_ENGINES=google,bing,duckduckgo

# 安全搜索级别
PERPLEXICA_SAFESEARCH=0        # 0=关闭, 1=中等, 2=严格（推荐）

# 搜索深度
PERPLEXICA_SEARCH_DEPTH=basic   # basic 或 advanced

# === 性能控制 ===
# 单次搜索超时（秒）
PERPLEXICA_TIMEOUT=300          # 5分钟，适合抓取完整内容

# ============================================
# Tavily Search API (仅在 USE_PERPLEXICA=false 时需要)
# ============================================
# Tavily Search API Key
# 获取地址: https://tavily.com/
# TAVILY_API_KEY=tvly-your-tavily-api-key-here

# Exa API Key (可选)
EXA_API_KEY=your-exa-api-key-here

# Perplexity API Key (可选)
PERPLEXITY_API_KEY=your-perplexity-api-key-here

# Azure AI Search (可选)
AZURE_AI_SEARCH_ENDPOINT=your-azure-endpoint
AZURE_AI_SEARCH_INDEX_NAME=your-index-name
AZURE_AI_SEARCH_API_KEY=your-azure-api-key

# Google Custom Search (可选)
GOOGLE_CX=your-google-cx

# ============================================
# LangSmith配置 (可选，用于追踪和调试)
# ============================================
# 获取地址: https://smith.langchain.com/
LANGCHAIN_API_KEY=your-langsmith-api-key-here
LANGCHAIN_TRACING_V2=true
LANGCHAIN_PROJECT=deep-research

# ============================================
# 认证配置 (可选，用于生产环境)
# ============================================

# Supabase配置 (用于用户认证)
SUPABASE_URL=your-supabase-url
SUPABASE_KEY=your-supabase-key

# ============================================
# 高级配置 (可选)
# ============================================

# 从配置中获取API密钥 (而不是环境变量)
# 设置为 "true" 时，API密钥将从运行时配置中获取
GET_API_KEYS_FROM_CONFIG=false

# ============================================
# 模型配置 (可选，也可以通过UI配置)
# ============================================

# 研究模型 (默认: openai:gpt-4.1)
# RESEARCH_MODEL=openai:gpt-4.1

# 压缩模型 (默认: openai:gpt-4.1)
# COMPRESSION_MODEL=openai:gpt-4.1

# 最终报告模型 (默认: openai:gpt-4.1)
# FINAL_REPORT_MODEL=openai:gpt-4.1

# 总结模型 (默认: openai:gpt-4.1-mini)
# SUMMARIZATION_MODEL=openai:gpt-4.1-mini

# 搜索API选择 (默认: tavily)
# 可选值: tavily, openai, anthropic, none
# SEARCH_API=tavily

# 最大并发研究单元数 (默认: 5)
# MAX_CONCURRENT_RESEARCH_UNITS=5

# 最大研究迭代次数 (默认: 6)
# MAX_RESEARCHER_ITERATIONS=6

# 最大工具调用次数 (默认: 10)
# MAX_REACT_TOOL_CALLS=10

# 是否允许澄清问题 (默认: true)
# ALLOW_CLARIFICATION=true

# ============================================
# 注意事项
# ============================================
# 1. 至少需要配置一个LLM API Key (OpenAI或Anthropic)
# 2. 至少需要配置一个搜索API Key (推荐Tavily)
# 3. 不要将 .env 文件提交到Git仓库
# 4. 生产环境建议使用密钥管理服务

